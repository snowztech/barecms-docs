<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BareCMS Documentation</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Documentation for BareCMS - A lightweight headless CMS with the bare minimal">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
  <style>
    :root {
      --theme-color: #333333;
      --sidebar-width: 280px;
    }

    .app-name {
      font-weight: 600;
      color: var(--theme-color);
    }

    .sidebar .sidebar-nav {
      line-height: 1.4em;
    }

    .sidebar .sidebar-nav strong {
      font-weight: 600;
      color: var(--theme-color);
    }

    .sidebar .sidebar-nav hr {
      margin: 1rem 0;
      border: none;
      border-top: 1px solid #eee;
    }

    .search .input-wrap input {
      border-radius: 6px;
      border: 1px solid #ddd;
      padding: 8px 12px;
    }

    .search .input-wrap input:focus {
      border-color: var(--theme-color);
      outline: none;
      box-shadow: 0 0 0 2px rgba(51, 51, 51, 0.1);
    }

    /* Hide auto-generated TOC for cleaner sidebar */
    .sidebar-nav .section-link {
      display: none;
    }

    /* Keep only main navigation items visible */
    .sidebar-nav > ul > li > a {
      font-weight: 500;
    }

    /* Style for page TOC when enabled */
    .page_toc {
      position: fixed;
      right: 20px;
      top: 100px;
      background: #fff;
      border: 1px solid #eee;
      border-radius: 6px;
      padding: 15px;
      max-width: 200px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    @media (max-width: 768px) {
      .page_toc {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <div style="text-align: center; padding: 3rem 1rem;">
      <h1>üìñ Loading BareCMS Documentation...</h1>
      <p style="color: #666;">Preparing your headless CMS guide...</p>
    </div>
  </div>

  <script>
    window.$docsify = {
      name: 'BareCMS Docs',
      repo: 'snowztech/barecms',
      homepage: 'README.md',
      loadSidebar: true,
      subMaxLevel: 2, // Reduced from 3 to prevent cluttered sidebar
      auto2top: true,
      mergeNavbar: true, // Better mobile experience

      // Aliases for better routing
      alias: {
        '/.*/_sidebar.md': '/_sidebar.md',
        '/.*/_navbar.md': '/_navbar.md',
      },

      // Search configuration
      search: {
        paths: 'auto',
        placeholder: 'üîç Search BareCMS docs...',
        noData: 'üòû No results found.',
        depth: 4,
        maxAge: 86400000,
        hideOtherSidebarContent: false,
        namespace: 'barecms-docs',
      },

      // Copy code configuration
      copyCode: {
        buttonText: 'üìã Copy',
        errorText: '‚ùå Error',
        successText: '‚úÖ Copied!'
      },

      // Pagination
      pagination: {
        previousText: '‚Üê Previous',
        nextText: 'Next ‚Üí',
        crossChapter: true,
        crossChapterText: true,
      },

      // Tab support for better content organization
      tabs: {
        persist: true,
        sync: true,
        theme: 'classic',
        tabComments: true,
        tabHeadings: true
      },

      // Custom plugins
      plugins: [
        // Table of Contents plugin for individual pages
        function(hook, vm) {
          hook.doneEach(function() {
            // Add page-specific TOC if needed
            const tocElements = document.querySelectorAll('h2, h3');
            if (tocElements.length > 3) {
              // Only show TOC for pages with substantial content
              let tocHtml = '<div class="page_toc"><h4>üìã Page Contents</h4><ul>';
              tocElements.forEach(el => {
                const level = el.tagName === 'H2' ? 'toc-h2' : 'toc-h3';
                const id = el.id || el.textContent.toLowerCase().replace(/[^\w]+/g, '-');
                el.id = id;
                tocHtml += `<li class="${level}"><a href="#${id}">${el.textContent}</a></li>`;
              });
              tocHtml += '</ul></div>';

              // Add TOC to page (can be toggled off per page)
              if (!document.querySelector('.no-toc')) {
                document.querySelector('.content').insertAdjacentHTML('afterbegin', tocHtml);
              }
            }
          });
        },

        // Edit on GitHub link
        function(hook, vm) {
          hook.beforeEach(function (html) {
            const url = 'https://github.com/snowztech/barecms-docs/blob/main/' + vm.route.file;
            const editHtml = '\n\n---\n\n[:memo: **Edit this page**](' + url + ') ‚Ä¢ [:star: **Star BareCMS**](https://github.com/snowztech/barecms) ‚Ä¢ [:heart: **Sponsor**](https://github.com/sponsors/lucasnevespereira)\n';
            return html + editHtml;
          });
        },

        // Custom footer
        function(hook) {
          hook.afterEach(function(html) {
            const footer = '\n\n<hr style="margin: 2rem 0;"/>\n\n<div style="text-align: center; color: #666; font-size: 0.9em; padding: 1rem;">Built with ‚ù§Ô∏è by <a href="https://github.com/snowztech" target="_blank">SnowzTech</a> ‚Ä¢ <a href="https://github.com/sponsors/lucasnevespereira" target="_blank">üíñ Support BareCMS</a></div>';
            return html + footer;
          });
        }
      ]
    }
  </script>

  <!-- Docsify core -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>

  <!-- Search plugin -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>

  <!-- Copy code plugin -->
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code@2/dist/docsify-copy-code.min.js"></script>

  <!-- Pagination plugin -->
  <script src="//cdn.jsdelivr.net/npm/docsify-pagination@2/dist/docsify-pagination.min.js"></script>

  <!-- Zoom image plugin -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>

  <!-- Tabs plugin for better content organization -->
  <script src="//cdn.jsdelivr.net/npm/docsify-tabs@1"></script>

  <!-- Syntax highlighting -->
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-javascript.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-go.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-docker.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-yaml.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-nginx.min.js"></script>
</body>
</html>